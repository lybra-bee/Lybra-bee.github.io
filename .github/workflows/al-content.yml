name: ü§ñ AI Content Generation

on:
  schedule:
    - cron: '0 12 * * 1'  # –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 12:00 UTC
  workflow_dispatch:

permissions:
  contents: write

jobs:
  generate-content:
    runs-on: ubuntu-latest
    steps:
      - name: üì• Checkout repository
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          
      - name: üêç Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: üì¶ Install dependencies
        run: pip install requests

      - name: üìÅ Create directories
        run: mkdir -p content/posts

      - name: ü§ñ Generate AI content
        env:
          HF_API_KEY: ${{ secrets.HF_API_KEY }}
        run: |
          echo "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é Hugging Face..."
          
          # –ü—Ä–æ—Å—Ç–∞—è –∑–∞–≥–ª—É—à–∫–∞ –ø–æ–∫–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–∏–º API
          DATE=$(date +%Y-%m-%d)
          cat > "content/posts/${DATE}-ai-article.md" << EOF
---
title: "–¢–µ—Å—Ç–æ–≤–∞—è AI —Å—Ç–∞—Ç—å—è"
date: $(date -u +"%Y-%m-%dT%H:%M:%SZ")
draft: false
description: "–°—Ç–∞—Ç—å—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"
tags: ["ai", "–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è", "—Ç–µ—Å—Ç"]
---

## –ü–µ—Ä–≤–∞—è AI-—Å—Ç–∞—Ç—å—è

–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ GitHub Actions.

*–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: $(date)*
*–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Hugging Face API*

> üöÄ –≠—Ç–æ—Ç –±–ª–æ–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
EOF
          
          echo "–°—Ç–∞—Ç—å—è —Å–æ–∑–¥–∞–Ω–∞: content/posts/${DATE}-ai-article.md"
          cat "content/posts/${DATE}-ai-article.md"
          
      - name: üíæ Commit and push
        run: |
          git config --global user.email "github-actions[bot]@users.noreply.github.com"
          git config --global user.name "github-actions[bot]"
          
          git add content/posts/
          git status
          
          if ! git diff --staged --quiet; then
            git commit -m "ü§ñ –î–æ–±–∞–≤–ª–µ–Ω–∞ AI-—Å—Ç–∞—Ç—å—è"
            git push --force origin main
            echo "‚úÖ –°—Ç–∞—Ç—å—è —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!"
          else
            echo "‚ùå –ù–µ—Ç –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç–µ–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞"
          fi
